(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{1927:(e,t,r)=>{Promise.resolve().then(r.bind(r,4605))},4605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),a=r(2115),l=r(6874),n=r.n(l);function o(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)(0),[l,o]=(0,a.useState)(!1),[c,i]=(0,a.useState)("RIGHT"),[u,f]=(0,a.useState)([{x:8,y:8},{x:7,y:8}]),[d,h]=(0,a.useState)({x:12,y:8}),[x,y]=(0,a.useState)(!1),[m,w]=(0,a.useState)(!1),[k,b]=(0,a.useState)(null),[v,E]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e.current&&e.current.focus()},[l]);let S=(0,a.useCallback)(e=>{if(m)return;let t=e.key;("ArrowUp"===t||"w"===t||"W"===t||"ArrowDown"===t||"s"===t||"S"===t||"ArrowLeft"===t||"a"===t||"A"===t||"ArrowRight"===t||"d"===t||"D"===t)&&e.preventDefault(),("ArrowUp"===t||"w"===t||"W"===t)&&"DOWN"!==c?(i("UP"),w(!0)):("ArrowDown"===t||"s"===t||"S"===t)&&"UP"!==c?(i("DOWN"),w(!0)):("ArrowLeft"===t||"a"===t||"A"===t)&&"RIGHT"!==c?(i("LEFT"),w(!0)):("ArrowRight"===t||"d"===t||"D"===t)&&"LEFT"!==c&&(i("RIGHT"),w(!0))},[c,m]);return(0,a.useEffect)(()=>(window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)),[S]),(0,a.useEffect)(()=>{if(x){let e=setTimeout(()=>y(!1),250);return()=>clearTimeout(e)}},[x]),(0,a.useEffect)(()=>{l&&b(Date.now())},[l]),(0,a.useEffect)(()=>{if(l)return;let e=setInterval(()=>{f(e=>{let s={...e[0]};switch(c){case"UP":s.y-=1;break;case"DOWN":s.y+=1;break;case"LEFT":s.x-=1;break;case"RIGHT":s.x+=1}if(s.x<0||s.x>=20||s.y<0||s.y>=20||e.some(e=>e.x===s.x&&e.y===s.y))return o(!0),e;let a=[s,...e];if(s.x===d.x&&s.y===d.y){let a;r(e=>e+1);let l=Math.min(3,Math.floor(t/5));do a={x:Math.floor(Math.random()*(20-2*l))+l,y:Math.floor(Math.random()*(20-2*l))+l};while(e.some(e=>e.x===a.x&&e.y===a.y)||s.x===a.x&&s.y===a.y);h(a),y(!0)}else a.pop();return a}),w(!1)},Math.max(40,100-5*t));return()=>clearInterval(e)},[c,d,l,t]),(0,a.useEffect)(()=>{let t=e.current.getContext("2d");t.clearRect(0,0,480,480),t.save(),t.translate(24*d.x,24*d.y),t.beginPath(),t.moveTo(12,19.68),t.bezierCurveTo(22.799999999999997,14.879999999999999,22.799999999999997,6.720000000000001,12,9.120000000000001),t.bezierCurveTo(1.2000000000000002,6.720000000000001,1.2000000000000002,14.879999999999999,12,19.68),t.closePath(),t.fillStyle="#FF3EA5",t.fill(),t.restore(),u.forEach((e,r)=>{t.fillStyle="#22c55e",t.fillRect(24*e.x,24*e.y,24,24),0===r&&(t.save(),t.translate(24*e.x+12,24*e.y+12),t.beginPath(),t.arc(-5,-3,2,0,2*Math.PI),t.arc(5,-3,2,0,2*Math.PI),t.fillStyle="#23251F",t.fill(),t.beginPath(),t.arc(0,3,5,.15*Math.PI,.85*Math.PI),t.lineWidth=1.5,t.strokeStyle="#23251F",t.stroke(),t.restore())});let r=u[0];r&&(t.save(),t.translate(24*r.x+12,24*r.y+12),t.beginPath(),t.ellipse(0,-20,11,4,0,0,2*Math.PI),t.strokeStyle="#FFD700",t.lineWidth=2,t.shadowColor="#FFD700",t.shadowBlur=4,t.stroke(),t.shadowBlur=0,t.restore())},[u,d]),(0,a.useEffect)(()=>{if(!l)return;let e=e=>{"Tab"!==e.key&&!e.metaKey&&(k&&Date.now()-k<500||(r(0),o(!1),i("RIGHT"),f([{x:8,y:8},{x:7,y:8}]),h({x:12,y:8})))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[l,k]),(0,a.useEffect)(()=>{e.current&&(e.current.tabIndex=0,e.current.focus())},[]),(0,a.useEffect)(()=>{l&&(E(!0),setTimeout(()=>E(!1),500))},[l]),(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center",children:(0,s.jsxs)("div",{className:"glass p-8 flex flex-col items-center gap-4 shadow-xl",style:{boxShadow:"0 8px 32px 0 rgba(160,43,92,0.10), 0 1.5px 8px 0 rgba(208,90,42,0.08)"},children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold mb-2",style:{color:"#F4F7F7"},children:[" ","\uD83D\uDC0D Snake Game"]}),(0,s.jsx)("div",{style:{minHeight:"2.5rem"},children:l&&(0,s.jsx)("div",{className:"font-bold mt-2",style:{color:"#F4F7F7"},children:"Game Over!"})}),(0,s.jsx)("canvas",{ref:e,width:480,height:480,className:"rounded-lg border ".concat(x?"snake-eat-anim":""," ").concat(v?"snake-shake":""),tabIndex:0,onKeyDown:S,style:{outline:"none"}}),(0,s.jsxs)("div",{className:"score-badge",style:{color:"#A02B5C",background:"#fff"},children:["Score: ",t]}),(0,s.jsxs)("div",{className:"controls-info",children:[(0,s.jsx)("strong",{children:"Controls:"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"controls-keys",children:"Arrow keys"})," or"," ",(0,s.jsx)("span",{className:"controls-keys",children:"WASD"})," to move the snake.",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"controls-tip",children:"Press any key after a game over to restart."})]}),(0,s.jsx)(n(),{href:"/",className:"mt-2 back-home-btn",children:"Back to Home"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(1927)),_N_E=e.O()}]);